* 在软件工程中，类图是一种静态的结构图，描述了系统的类的集合，类的属性和类之间的关系，可以简化了人们对系统的理解；
* 类图是系统分析和设计阶段的重要产物，是系统编码和测试的重要模型。



# 类的表示法

在UML类图中，主要包含三个部分：

- 类名
- 类的属性
- 类的方法

![image-20220502160041896](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502160041896.png)



属性/方法名称前加的加号和减号表示了这个属性/方法的可见性，UML类图中表示可见性的符号有三种：

* +：表示public
* -：表示private
* #：表示protected



属性的完整表示方式是： `可见性  名称 ：类型 [ = 缺省值]`

方法的完整表示方式是： `可见性  名称(参数列表) [ ： 返回类型]`

> [ ]中的内容是可选的



## 类与类之间关系的表示

### 关联关系

关联关系是对象之间的一种引用关系，用于表示一类对象与另一类对象之间的联系，如老师和学生、师傅和徒弟、丈夫和妻子等。

关联关系是类与类之间最常用的一种关系，分为：

- 一般关联关系。我们先介绍一般关联。
- 聚合关系
- 组合关系



**一般关联关系又可分为**：

1. 单向关联：

   ![image-20220502162437636](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502162437636.png)

   - 在UML类图中***单向关联用一个带箭头的实线表示***。

   - 上图表示每个顾客都有一个地址，这通过让Customer类持有一个类型为Address的成员变量类实现。

2. 双向关联：

   ![image-20220502162507238](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502162507238.png)

   - 双向关联就是双方各自持有对方类型的成员变量。在UML类图中，***双向关联用一个不带箭头的直线表示***。
   - 上图中在Customer类中维护一个List\<Product>，表示一个顾客可以购买多个商品；在Product类中维护一个Customer类型的成员变量表示这个产品被哪个顾客所购买。

3. 自关联：

   ![image-20220502162543140](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502162543140.png)

   - ***自关联在UML类图中用一个带有箭头且指向自身的线表示***。
   - 上图的意思就是Node类包含类型为Node的成员变量，也就是“自己包含自己”。

   

### 聚合关系

- 聚合关系***是关联关系的一种***，是***强关联关系***，是整体和部分之间的关系。

  聚合关系也是通过成员对象来实现的，其中**成员对象是整体对象的一部分，但*<u>成员对象可以脱离整体对象而独立存在</u>***。

  例如，学校与老师的关系，学校包含老师，但如果学校停办了，老师依然存在。

- 在 UML 类图中，聚合关系可以***用带<u>空心菱形</u>的实线来表示，菱形指向整体***。

  下图所示是大学和教师的关系图：

  ![image-20220502163252393](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502163252393.png)



### 组合关系

- 组合表示类之间的整体与部分的关系，但它是一种***更强烈的聚合关系***。


- 在组合关系中，整体对象可以控制部分对象的生命周期，一旦整体对象不存在，部分对象也将不存在，***部分对象不能脱离整体对象而存在***。

  例如，头和嘴的关系，没有了头，嘴也就不存在了。

- 在 UML 类图中，组合关系***用带<u>实心菱形</u>的实线来表示，菱形指向整体***。

  下图所示是头和嘴的关系图：

  ![image-20220502163816882](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502163816882.png)



### 依赖关系

- 依赖关系是一种==使用关系==，它是***对象之间<u>耦合度最弱</u>的一种关联方式，是临时性的关联***。

  在代码中，某个类的方法通过***局部变量***、方法的***参数***或者对***静态方法***的调用来访问另一个类（被依赖类）中的某些方法来完成一些职责。

- 在 UML 类图中，**依赖关系使用*带箭头的虚线来表示*，箭头从使用类<u>*指向被依赖的类*</u>**。

  下图所示是司机和汽车的关系图，司机驾驶汽车：

  ![image-20220502164411474](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502164411474.png)



### 继承关系

- 继承关系是对象之间**耦合度最大的一种关系**，表示一般与特殊的关系，是父类与子类之间的关系，是一种继承关系。

- 在 UML 类图中，泛化关系用***带空心三角箭头的实线来表示***，箭头从子类***指向父类***。

  在代码实现时，使用面向对象的继承机制来实现泛化关系。

  例如，Student 类和 Teacher 类都是 Person 类的子类，其类图如下图所示：

  ![image-20220502164844211](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502164844211.png)



### 实现关系

- 实现关系是接口与实现类之间的关系。在这种关系中，类实现了接口，类中的操作实现了接口中所声明的所有的抽象操作。

- 在 UML 类图中，实现关系使用***带空心三角箭头的虚线来表示***，箭头从实现类***指向接口***。

  例如，汽车和船实现了交通工具，其类图如下图所示：

  ![image-20220502164945479](UML%E7%B1%BB%E5%9B%BE.assets/image-20220502164945479.png)