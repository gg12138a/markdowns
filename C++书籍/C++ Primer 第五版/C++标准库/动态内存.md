# 动态内存与智能指针

## shared_ptr类 与 unique_ptr类

- shared_ptr：允许多个指针，指向同一个对象
- unique_ptr：独占所指的对象



- 默认初始化的智能指针中，保存着一个空指针。
- 智能指针的使用，类似于普通指针：
  - 解引用：返回它所指的对象
  - 在条件判断中使用智能指针，检测它是否为空指针



![image-20220717181111893](%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98.assets/image-20220717181111893.png)

![image-20220717182253776](%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98.assets/image-20220717182253776.png)



## weak_ptr

![image-20220717182709593](%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98.assets/image-20220717182709593.png)



## allocator

![image-20220717182914808](%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98.assets/image-20220717182914808.png)

![image-20220717182920543](%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98.assets/image-20220717182920543.png)