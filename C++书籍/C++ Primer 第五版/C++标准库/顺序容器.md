# 顺序容器类型

![image-20220717143848835](%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8.assets/image-20220717143848835.png)



顺序容器在以下方面存在折中：

- 向容器添加或删除元素的代价
- 随机访问元素的代价



# 选择容器的策略

- 除非有很好的理由选择其他容器，否则应使用vector
- 程序有很多小元素，空间开销很重要，则不要使用list或forward_list
- 要求随机访问，使用vector或deque
- 要求在中间插入或删除元素，使用list或forward_list
- 要求在头尾位置插入或删除元素，且不会在中间位置进行插入或删除，使用deque
- 如果只在读取输入阶段，需要在中间插入位置，随后需要随机访问：
  - 考虑能否先使用vector追加，最后进行排序
  - 在输入阶段使用list，输入完成后将其拷贝到vector



# 容器公共操作

|    类型别名     |                          说明                          |
| :-------------: | :----------------------------------------------------: |
|    iterator     |                 此容器类型的迭代器类型                 |
| const_iterator  |                   仅可读的迭代器类型                   |
|    size_type    | 无符号整数类型，足够保存此种容器类型最大可能容器的大小 |
| difference_type |      带符号整数类型，足够保存两个迭代器之间的距离      |
|   value_type    |                        元素类型                        |
|    reference    |            元素的左值类型（即value_type&）             |
| const_reference |       元素的const左值类型（即const value_type&）       |



|     构造函数      |                             说明                             |
| :---------------: | :----------------------------------------------------------: |
|       C c;        |                   默认构造函数，构造空容器                   |
|     C c1(c2);     |                        构造c2的拷贝c1                        |
|    C c(b, e);     | 构造c，将迭代器b和e指定范围内元素拷贝到c<br />***不支持array*** |
| C c{a, b, c, ...} |                         列表初始化c                          |



|      赋值与swap      |              说明              |
| :------------------: | :----------------------------: |
|       c1 = c2;       |      将c1中的元素进行替换      |
| c1 = {a, b, c, ...}; | 将c1中的元素，替换为列表内元素 |
|      a.swap(b);      |        将a和b的元素交换        |
|     swap(a, b);      |        等价于a.swap(b);        |



|     大小     |                    说明                     |
| :----------: | :-----------------------------------------: |
|   c.size()   | c中元素数目。<br />***不支持forward_list*** |
| c.max_size() |           c中可保存的最大元素数目           |
|  c.empty()   |              c中是否不存在元素              |



| 添加/删除元素<br />（不适用于array） |              说明              |
| :----------------------------------: | :----------------------------: |
|           c.insert(*args*)           |   将*args*中的元素，拷贝进c    |
|          e.emplace(*inits*)          | 使用*inits*，构造c中的一个元素 |
|            c.erase(args)             |      删除*args*指定的元素      |
|              c.clear()               |       删除c中的所有元素        |



|      获取迭代器      |             说明             |
| :------------------: | :--------------------------: |
|  c.begin(), c.end()  | 指向首元素，尾后元素的迭代器 |
| c.cbegin(), c.cend() |      返回const_iterator      |



| 返回迭代器的额外的成员<br />（不支持forward_list） |             说明             |
| :------------------------------------------------: | :--------------------------: |
|                  reverse_iterator                  |          逆序迭代器          |
|               const_reverse_iterator               |   不可修改元素的逆序迭代器   |
|                c.rbegin(), c.rend()                | 指向尾元素，首前元素的迭代器 |
|               c.crbegin(), c.crend()               |  返回const_reverse_iterator  |

